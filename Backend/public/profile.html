<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Profile â€“ Cars And Bikes In India | CABII</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* ===== BASIC RESET ===== */
    *{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
    body{background:#f4f6f8;color:#222}

    /* ===== HEADER ===== */
    .site-header{
      display:flex;align-items:center;justify-content:space-between;
      padding:10px 16px;background:#fff;border-bottom:1px solid #ddd;
      position:sticky;top:0;z-index:1000
    }
    .logo-area{display:flex;align-items:center}
    .logo-link{display:flex;align-items:center;text-decoration:none;color:#222}
    .logo-img{height:40px;margin-right:10px}
    .logo-text{font-weight:bold}

    .nav-right{display:flex;align-items:center;gap:10px}

    .login-btn{
      padding:8px 14px;border-radius:6px;
      background:#ff6a00;color:#fff;text-decoration:none;font-weight:bold
    }

    /* ===== USER MENU ===== */
    .user-menu{position:relative}
    .user-btn{
      background:#ff6a00;color:#fff;border:none;
      padding:8px 10px;border-radius:50%;cursor:pointer;font-size:16px
    }
    .user-dropdown{
      display:none;position:absolute;right:0;top:42px;
      background:#fff;border:1px solid #ddd;border-radius:6px;
      min-width:160px;box-shadow:0 4px 10px rgba(0,0,0,.1)
    }
    .user-dropdown a,
    .user-dropdown button{
      display:block;width:100%;padding:10px;
      border:none;background:none;text-align:left;
      text-decoration:none;color:#222;cursor:pointer
    }
    .user-dropdown a:hover,
    .user-dropdown button:hover{background:#f1f1f1}

    /* ===== HAMBURGER ===== */
    .hamburger-btn{
      width:38px;height:34px;border:none;border-radius:6px;
      background:#ff6a00;display:flex;flex-direction:column;
      justify-content:center;align-items:center;gap:4px;cursor:pointer
    }
    .hamburger-btn span{display:block;width:20px;height:2px;background:#fff}

    .hamburger-menu{
      display:none;position:fixed;right:10px;top:70px;
      background:#fff;border:1px solid #ddd;border-radius:8px;
      width:220px;box-shadow:0 4px 12px rgba(0,0,0,.15);z-index:999
    }
    .hamburger-menu a{
      display:block;padding:12px;text-decoration:none;color:#222
    }
    .hamburger-menu a:hover{background:#f5f5f5}

    /* ===== PROFILE ===== */
    .profile-wrap{
      max-width:520px;margin:40px auto;background:#fff;
      padding:24px;border-radius:10px;
      box-shadow:0 4px 12px rgba(0,0,0,.08)
    }
    .profile-wrap h2{margin-bottom:16px}
    .profile-row{margin-bottom:10px}
    .profile-row b{display:inline-block;width:120px}
    .upgrade{
      display:inline-block;margin-top:16px;
      padding:10px 16px;border-radius:6px;
      background:#0066ff;color:#fff;text-decoration:none
    }

    .guest-only{display:none}
    .auth-only{display:none}
  </style>
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="site-header">
  <div class="logo-area">
    <a href="index.html" class="logo-link">
      <img src="images/logo.png" class="logo-img" alt="CABII">
      <span class="logo-text">Cars And Bikes In India â€“ CABII</span>
    </a>
  </div>

  <div class="nav-right">
    <!-- Guest -->
    <a href="login.html" class="login-btn guest-only">Login / Signup</a>

    <!-- Logged in user -->
    <div class="user-menu auth-only">
      <button id="userBtn" class="user-btn">ðŸ‘¤</button>
      <div id="userDropdown" class="user-dropdown">
        <a href="profile.html">Profile</a>
        <a href="dashboard.html">Dashboard</a>
        <button id="logoutBtn">Logout</button>
      </div>
    </div>

    <!-- Hamburger -->
    <button class="hamburger-btn" id="menuBtn">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<!-- Hamburger Panel -->
<div class="hamburger-menu" id="menu">
  <a href="post-ad.html" data-auth>Post Ad</a>
  <a href="sell48.html">ðŸš€ Sell in 48 Hours</a>
  <a href="membership.html">ðŸ’Ž Membership Plans</a>
  <a href="dashboard.html" data-auth>Dashboard</a>
</div>

<!-- ================= PROFILE CONTENT ================= -->
<div class="profile-wrap">
  <h2>My Profile</h2>

  <div class="profile-row"><b>Name:</b> <span id="name">-</span></div>
  <div class="profile-row"><b>Email:</b> <span id="email">-</span></div>
  <div class="profile-row"><b>Membership:</b> <span id="plan">FREE</span></div>
  <div class="profile-row"><b>Status:</b> <span id="verified">-</span></div>

  <a href="membership.html" class="upgrade">Upgrade Membership</a>
</div>

<!-- ================= SCRIPT ================= -->
<script>
/* ===== AUTH CHECK ===== */
const user = JSON.parse(localStorage.getItem("cabiiUser"));

if (!user) {
  alert("Please login first");
  window.location.href = "login.html";
}

/* Show / Hide */
document.querySelectorAll(".guest-only")
  .forEach(e => e.style.display = user ? "none" : "inline-block");
document.querySelectorAll(".auth-only")
  .forEach(e => e.style.display = user ? "flex" : "none");

/* Fill profile */
if (user) {
  document.getElementById("name").innerText = user.name || "-";
  document.getElementById("email").innerText = user.email || "-";
  document.getElementById("plan").innerText = user.membership || "FREE";
  document.getElementById("verified").innerText =
    user.verified ? "Verified âœ…" : "Not Verified âŒ";
}

/* User dropdown */
const userBtn = document.getElementById("userBtn");
const userDropdown = document.getElementById("userDropdown");
if (userBtn) {
  userBtn.onclick = () => {
    userDropdown.style.display =
      userDropdown.style.display === "block" ? "none" : "block";
  };
}

/* Hamburger */
const menuBtn = document.getElementById("menuBtn");
const menu = document.getElementById("menu");
menuBtn.onclick = () => {
  menu.style.display = menu.style.display === "block" ? "none" : "block";
};

/* Protect auth links */
document.querySelectorAll("[data-auth]").forEach(link => {
  link.onclick = (e) => {
    if (!user) {
      e.preventDefault();
      alert("Please login first");
      window.location.href = "login.html";
    }
  };
});

/* Logout */
const logoutBtn = document.getElementById("logoutBtn");
if (logoutBtn) {
  logoutBtn.onclick = () => {
    localStorage.removeItem("cabiiUser");
    window.location.href = "index.html";
  };
}
</script><script>
(function () {
  const user = localStorage.getItem("cabiiUser");
  if (!user) {
    window.location.replace("login.html");
  }
})();
</script>
<script>
(function () {
  const user = localStorage.getItem("cabiiUser");
  if (!user) {
    window.location.replace("login.html");
  }
})();
</script>
</body>
</html>